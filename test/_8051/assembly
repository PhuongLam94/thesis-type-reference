#DEFINE TESTUPS2 ACC.2
#DEFINE OPTIONS #10
#DEFINE OPTIONS2 #38H
#DEFINE SLVFLGMAP #12H
#DEFINE BTS #99
#DEFINE XROVLY #24H
#DEFINE MASTER ACC.7
#DEFINE SMPDUP ACC.3
#DEFINE TESTUPS3 ACC.3
#DEFINE TESTUPS5 ACC.5
#DEFINE TESTUPS4 ACC.4
#DEFINE TESTUPS8 ACC.8
#DEFINE TESTUPS7 ACC.7
#DEFINE TESTUPS1 ACC.1
#DEFINE TESTUPS6 ACC.6
#DEFINE TESTUPS2 ACC.2
#DEFINE TESTUPS9 ACC.2
#DEFINE SIMP ACC.1
PUBLIC ABCDEFG
ABCDEFG:
                MOV     A,OPTIONS+1
                JNB     SMPDUP,NOP_K1ECROF
                MOV     A,38H
                JB      ACC.6,TSMKHC
		RET

NOP_K1ECROF:    MOV     DPTR,#SLVFLGMAP+14H
                MOVX    A,@DPTR
                SETB    TESTUPS6
                MOVX    @DPTR,A
		RET

TSMKHC:         MOV     A,BTS
		SETB	MASTER
                MOV     DPTR,#XROVLY+14H
                MOVX    A,@DPTR
                CLR	SIMP
		MOV	A, OPTIONS2
		SETB	TESTUPS6
		RET
